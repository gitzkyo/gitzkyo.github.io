<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我的获奖证书</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#10B981',
                        accent: '#8B5CF6',
                        dark: '#1E293B',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>

    <style type="text/tailwindcss">
        @layer utilities {
            .certificate-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
                gap: 1.5rem;
            }
            .certificate-card {
                transition: all 0.3s ease;
            }
            .certificate-card:hover {
                transform: translateY(-5px);
            }
            .modal-backdrop {
                backdrop-filter: blur(5px);
            }
            .error-message {
                position: absolute;
                inset-0;
                background: #f3f4f6;
                display: flex;
                align-items: center;
                justify-content: center;
                color: #ef4444;
                font-weight: 500;
            }
        }
    </style>
</head>

<body class="bg-gray-50 font-sans text-dark">
    <header class="bg-gradient-to-r from-primary to-accent text-white shadow-lg">
        <div class="container mx-auto px-4 py-12 md:py-20 text-center">
            <h1 class="text-[clamp(2rem,5vw,3.5rem)] font-bold mb-4">我的获奖证书</h1>
            <p class="text-lg md:text-xl opacity-90 max-w-2xl mx-auto">展示我的荣誉与成就，见证成长的每一步</p>
        </div>
    </header>

    <main class="container mx-auto px-4 py-12">
        <div class="certificate-grid">
            <!-- 证书卡片会通过JavaScript动态生成 -->
        </div>
    </main>

    <div id="certModal"
        class="fixed inset-0 bg-black bg-opacity-70 modal-backdrop flex items-center justify-center z-50 hidden">
        <div class="relative max-w-5xl w-full mx-4">
            <button id="closeModal"
                class="absolute -top-12 right-0 text-white text-2xl hover:text-gray-300 transition-colors">
                <i class="fa fa-times"></i>
            </button>
            <img id="modalImage" src="" alt="证书大图" class="max-h-[85vh] mx-auto shadow-2xl rounded-md">
            <div class="absolute bottom-4 left-0 right-0 flex justify-center gap-4">
                <button id="prevBtn"
                    class="bg-white bg-opacity-80 hover:bg-opacity-100 text-dark px-4 py-2 rounded-full transition-all">
                    <i class="fa fa-chevron-left"></i> 上一张
                </button>
                <button id="nextBtn"
                    class="bg-white bg-opacity-80 hover:bg-opacity-100 text-dark px-4 py-2 rounded-full transition-all">
                    下一张 <i class="fa fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white py-8 mt-16">
        <div class="container mx-auto px-4 text-center">
            <p>© 2023 我的荣誉展示 | 所有证书均为真实获得</p>
        </div>
    </footer>

    <script>
        // 证书数据 - 确认路径是否正确
        const certificates = Array.from({ length: 9 }, (_, i) => ({
            id: i + 1,
            src: `img/img${i + 1}.jpg`,  // 这是关键路径
            alt: `获奖证书 ${i + 1}`
        }));

        let currentCertIndex = 0;

        const certGrid = document.querySelector('.certificate-grid');
        const certModal = document.getElementById('certModal');
        const modalImage = document.getElementById('modalImage');
        const closeModal = document.getElementById('closeModal');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');

        function renderCertificates() {
            certificates.forEach((cert, index) => {
                const certCard = document.createElement('div');
                certCard.className = 'certificate-card bg-white rounded-lg shadow-md overflow-hidden';
                certCard.innerHTML = `
                    <div class="relative overflow-hidden aspect-[4/3]">
                        <img src="${cert.src}" alt="${cert.alt}" class="w-full h-full object-cover transition-transform duration-500 hover:scale-110">
                        <div class="absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-20 transition-all flex items-center justify-center">
                            <button class="bg-white text-primary p-3 rounded-full opacity-0 hover:opacity-100 transition-opacity transform translate-y-4 hover:translate-y-0">
                                <i class="fa fa-search-plus text-xl"></i>
                            </button>
                        </div>
                    </div>
                    <div class="p-4 text-center">
                        <h3 class="font-semibold text-lg">获奖证书 ${cert.id}</h3>
                    </div>
                `;

                certCard.addEventListener('click', () => {
                    openModal(index);
                });

                certGrid.appendChild(certCard);

                // 添加图片加载错误监听
                const imgElement = certCard.querySelector('img');
                imgElement.addEventListener('error', () => {
                    const errorDiv = document.createElement('div');
                    errorDiv.className = 'error-message';
                    errorDiv.textContent = `无法加载图片: ${cert.src}`;
                    certCard.querySelector('.relative').appendChild(errorDiv);
                });
            });
        }

        function openModal(index) {
            currentCertIndex = index;
            modalImage.src = certificates[index].src;
            modalImage.alt = certificates[index].alt;
            certModal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeModalFunc() {
            certModal.classList.add('hidden');
            document.body.style.overflow = '';
        }

        function prevCert() {
            currentCertIndex = (currentCertIndex - 1 + certificates.length) % certificates.length;
            modalImage.src = certificates[currentCertIndex].src;
            modalImage.alt = certificates[currentCertIndex].alt;
        }

        function nextCert() {
            currentCertIndex = (currentCertIndex + 1) % certificates.length;
            modalImage.src = certificates[currentCertIndex].src;
            modalImage.alt = certificates[currentCertIndex].alt;
        }

        closeModal.addEventListener('click', closeModalFunc);
        prevBtn.addEventListener('click', prevCert);
        nextBtn.addEventListener('click', nextCert);

        certModal.addEventListener('click', (e) => {
            if (e.target === certModal) {
                closeModalFunc();
            }
        });

        document.addEventListener('keydown', (e) => {
            if (!certModal.classList.contains('hidden')) {
                if (e.key === 'Escape') closeModalFunc();
                if (e.key === 'ArrowLeft') prevCert();
                if (e.key === 'ArrowRight') nextCert();
            }
        });

        // 初始化页面
        renderCertificates();
    </script>
</body>

</html>